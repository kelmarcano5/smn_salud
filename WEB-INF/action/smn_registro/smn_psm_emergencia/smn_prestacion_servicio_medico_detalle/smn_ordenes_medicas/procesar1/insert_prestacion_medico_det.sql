INSERT INTO smn_salud.smn_prestacion_servicio_medico_detalle
(
	smn_prestacion_servicio_medico_detalle_id,
	smn_prestacion_servicio_medico_cabecera_id,
	smn_mov_caja_detalle_id,
	smn_ingresos_mov_id,
	smn_unidades_servicios_rf,
	smn_almacen_rf,
	smn_servicios_rf,
	psd_tipo_componentes,
	smn_componentes_rf,
	smn_item_rf,
	smn_prestador_servicio_rf,
	psd_cantidad,
	psd_precio_propuesto_ml,
	psd_monto_propuesto_ml,
	smn_descuento_ml_rf,
	smn_moneda_rf,
	psd_precio_propuesto_ma,
	psd_monto_propuesto_ma,
	psd_monto_descuento_propuesto_ml,
	psd_monto_descuento_propuesto_ma,
	psd_monto_neto_propuesto_ml,
	psd_monto_neto_propuesto_ma,
	psd_estatus,
	psd_agregado_usuario,
	psd_observaciones_rf,
	smn_rol_id,
	psd_idioma,
	psd_usuario,
	psd_fecha_registro,
	psd_hora,
	smn_ingresos_id
)
VALUES
(
	${seq:nextval@smn_salud.seq_smn_prestacion_servicio_medico_detalle},
	${fld:smn_prestacion_servicio_medico_cabecera_id},
	0,
	${fld:smn_ingreso_id},
	${fld:smn_unidades_servicios_rf},
	0,
	${fld:smn_servicios_rf},
	(select smn_base.smn_componentes.cmp_tipo_componente from smn_base.smn_servicios_componentes inner join smn_base.smn_componentes on smn_base.smn_componentes.smn_componentes_id = smn_base.smn_servicios_componentes.smn_componentes_id 
where smn_base.smn_servicios_componentes.smn_servicios_id=${fld:smn_servicios_rf} order by smn_base.smn_componentes.smn_componentes_id asc limit 1),
	(select smn_base.smn_servicios_componentes.smn_componentes_id from smn_base.smn_servicios_componentes inner join smn_base.smn_componentes on smn_base.smn_componentes.smn_componentes_id = smn_base.smn_servicios_componentes.smn_componentes_id 
where smn_base.smn_servicios_componentes.smn_servicios_id=${fld:smn_servicios_rf} order by smn_base.smn_componentes.smn_componentes_id asc limit 1),
	0,
	${fld:smn_prestador_servicio_rf},
	1,
	0,
	0,
	0,
	0,
	0,
	0,
	0,
	0,
	0,
	0,
	'RE',
	0,
	0,
	0,
	'${def:locale}',
	'${def:user}',
	{d '${def:date}'},
	'${def:time}',
	${fld:smn_ingreso_id}
)
